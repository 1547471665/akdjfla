{"compress":true,"commitItems":[["77b5158d-3a8b-4904-9289-192145852eaa",1519635292557,"",[[1519635234111,["wangnan@wangnandeMacBook-Pro.local",[[1,0,"GitLab\n===\n\n\n"]],[0,0],[13,13]]],[1519635383133,["wangnan@wangnandeMacBook-Pro.local",[[-1,12,"\n"],[1,13,"## 1. docker-composer"]],[13,13],[33,33]]],[1519635392879,["wangnan@wangnandeMacBook-Pro.local",[[1,33,"\n\nweb:\n  image: 'gitlab/gitlab-ce:latest'\n  restart: always\n  hostname: 'gitlab.anhao.cn'\n  environment:\n#    GITLAB_TIMEZONE: PRC\n#    GITLAB_ROOT_PASSWORD: wangnan123\n#    SMTP_ENABLE: true\n#    GITLAB_EMAIL_FROM: jadesouth@aliyun.com\n#    GITLAB_EMAIL_DISPLAY_NAME: jadesouth\n#    GITLAB_EMAIL_REPLY_TO: jadesouth@aliyun.com\n    GITLAB_OMNIBUS_CONFIG: |\n      external_url 'http://gitlab.anhao.cn:8000'\n      gitlab_rails['gitlab_shell_ssh_port'] = 2200\n  ports:\n    - \"8000:80\"\n#    - \"4433:443\"\n    - \"2200:22\"\n  volumes:\n    - '/data/gitlab/config:/etc/gitlab'\n    - '/data/gitlab/log:/var/log/gitlab'\n    - '/data/gitlab/data:/var/opt/gitlab'"]],[33,33],[681,681]]],[1519635404309,["wangnan@wangnandeMacBook-Pro.local",[[-1,32,"r"],[1,33,".yml"]],[33,33],[36,36]]],[1519635405746,["wangnan@wangnandeMacBook-Pro.local",[[1,12,"\n"]],[11,11],[12,12]]],[1519635406861,["wangnan@wangnandeMacBook-Pro.local",[[1,11,"##"]],[11,11],[13,13]]],[1519635408502,["wangnan@wangnandeMacBook-Pro.local",[[1,8,"\n"]],[8,8],[9,9]]],[1519635409290,["wangnan@wangnandeMacBook-Pro.local",[[-1,8,"\n"]],[9,9],[8,8]]],[1519635411045,["wangnan@wangnandeMacBook-Pro.local",[[1,11,"\n"]],[11,11],[12,12]]],[1519635412542,["wangnan@wangnandeMacBook-Pro.local",[[1,14," 1. "]],[14,14],[18,18]]],[1519635413801,["wangnan@wangnandeMacBook-Pro.local",[[-1,15,"1. "]],[18,18],[15,15]]],[1519635415153,["wangnan@wangnandeMacBook-Pro.local",[[1,15,"0 . "]],[15,15],[19,19]]],[1519635415838,["wangnan@wangnandeMacBook-Pro.local",[[-1,16," . "]],[19,19],[16,16]]],[1519635416244,["wangnan@wangnandeMacBook-Pro.local",[[1,16,"."]],[16,16],[17,17]]],[1519635423154,[null,[[-1,44,"\n"],[1,692,"\n"]],[44,44],[693,693]]],[1519635423154,[null,[[1,44,"\n"],[-1,691,"\n"]],[693,693],[44,44]]],[1519635422251,["wangnan@wangnandeMacBook-Pro.local",[[1,18,"采用docker方式安装"]],[18,18],[30,30]]],[1519635483158,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,704,"\n"]],[17,17],[705,705]]],[1519635483158,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,704,"\n"]],[705,705],[17,17]]],[1519635458556,["wangnan@wangnandeMacBook-Pro.local",[[1,160,"、、"]],[160,160],[162,162]]],[1519635459533,["wangnan@wangnandeMacBook-Pro.local",[[-1,160,"、、"]],[162,162],[160,160]]],[1519635460624,["wangnan@wangnandeMacBook-Pro.local",[[1,160,"//"]],[160,160],[162,162]]],[1519635462606,["wangnan@wangnandeMacBook-Pro.local",[[1,188,"//"]],[188,188],[190,190]]],[1519635463505,["wangnan@wangnandeMacBook-Pro.local",[[1,228,"//"]],[228,228],[230,230]]],[1519635467216,["wangnan@wangnandeMacBook-Pro.local",[[1,57,"\n"]],[56,56],[57,57]]],[1519635467915,["wangnan@wangnandeMacBook-Pro.local",[[1,57,"```"]],[57,57],[60,60]]],[1519635468386,["wangnan@wangnandeMacBook-Pro.local",[[1,61,"\n"]],[60,60],[61,61]]],[1519635469861,["wangnan@wangnandeMacBook-Pro.local",[[1,61,"````"]],[61,61],[65,65]]],[1519635472234,["wangnan@wangnandeMacBook-Pro.local",[[-1,63,"``"]],[65,65],[63,63]]],[1519635473247,["wangnan@wangnandeMacBook-Pro.local",[[1,63,"`"]],[63,63],[64,64]]],[1519635476532,["wangnan@wangnandeMacBook-Pro.local",[[-1,168,"//"]],[169,169],[168,168]]],[1519635479300,["wangnan@wangnandeMacBook-Pro.local",[[-1,194,"//"]],[196,196],[194,194]]],[1519635480851,["wangnan@wangnandeMacBook-Pro.local",[[-1,232,"//"]],[234,234],[232,232]]],[1519635494076,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,712,"\n"]],[17,17],[713,713]]],[1519635494076,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,712,"\n"]],[713,713],[17,17]]],[1519635485905,["wangnan@wangnandeMacBook-Pro.local",[[-1,65,"web:\n  image: 'gitlab/gitlab-ce:latest'\n  restart: always\n  hostname: 'gitlab.anhao.cn'\n  environment:\n#    GITLAB_TIMEZONE: PRC\n#    GITLAB_ROOT_PASSWORD: wangnan123\n#    SMTP_ENABLE: true\n#    GITLAB_EMAIL_FROM: jadesouth@aliyun.com\n#    GITLAB_EMAIL_DISPLAY_NAME: jadesouth\n#    GITLAB_EMAIL_REPLY_TO: jadesouth@aliyun.com\n    GITLAB_OMNIBUS_CONFIG: |\n      external_url 'http://gitlab.anhao.cn:8000'\n      gitlab_rails['gitlab_shell_ssh_port'] = 2200\n  ports:\n    - \"8000:80\"\n#    - \"4433:443\"\n    - \"2200:22\"\n  volumes:\n    - '/data/gitlab/config:/etc/gitlab'\n    - '/data/gitlab/log:/var/log/gitlab'\n    - '/data/gitlab/data:/var/opt/gitlab'"]],[65,712],[65,65]]],[1519635487602,["wangnan@wangnandeMacBook-Pro.local",[[1,61,"\n"]],[60,60],[61,61]]],[1519635487784,["wangnan@wangnandeMacBook-Pro.local",[[1,61,"web:\n  image: 'gitlab/gitlab-ce:latest'\n  restart: always\n  hostname: 'gitlab.anhao.cn'\n  environment:\n#    GITLAB_TIMEZONE: PRC\n#    GITLAB_ROOT_PASSWORD: wangnan123\n#    SMTP_ENABLE: true\n#    GITLAB_EMAIL_FROM: jadesouth@aliyun.com\n#    GITLAB_EMAIL_DISPLAY_NAME: jadesouth\n#    GITLAB_EMAIL_REPLY_TO: jadesouth@aliyun.com\n    GITLAB_OMNIBUS_CONFIG: |\n      external_url 'http://gitlab.anhao.cn:8000'\n      gitlab_rails['gitlab_shell_ssh_port'] = 2200\n  ports:\n    - \"8000:80\"\n#    - \"4433:443\"\n    - \"2200:22\"\n  volumes:\n    - '/data/gitlab/config:/etc/gitlab'\n    - '/data/gitlab/log:/var/log/gitlab'\n    - '/data/gitlab/data:/var/opt/gitlab'"]],[61,61],[708,708]]],[1519635554718,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,713,"\n"]],[17,17],[714,714]]],[1519635554718,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,713,"\n"]],[714,714],[17,17]]],[1519635515018,["wangnan@wangnandeMacBook-Pro.local",[[1,714,"\n"]],[712,712],[713,713]]],[1519635519351,["wangnan@wangnandeMacBook-Pro.local",[[1,713,"## 2. 启动"]],[713,713],[721,721]]],[1519635523591,["wangnan@wangnandeMacBook-Pro.local",[[1,723,"\n"]],[721,721],[722,722]]],[1519635574855,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,721,"\n"]],[17,17],[722,722]]],[1519635574855,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,721,"\n"]],[722,722],[17,17]]],[1519635558830,["wangnan@wangnandeMacBook-Pro.local",[[1,722,"docker-compose up -d"]],[722,722],[742,742]]],[1519635561652,["wangnan@wangnandeMacBook-Pro.local",[[1,722,"\n"]],[721,721],[722,722]]],[1519635573561,["wangnan@wangnandeMacBook-Pro.local",[[1,722,"cd docker-composer.yml所在目录"]],[722,722],[748,748]]],[1519724232986,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,770,"\n"]],[17,17],[771,771]]],[1519724232986,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,770,"\n"]],[771,771],[17,17]]],[1519724220942,["wangnan@wangnandeMacBook-Pro.local",[[1,771,"\n"]],[769,769],[770,770]]],[1519724221121,["wangnan@wangnandeMacBook-Pro.local",[[1,772,"\n"]],[770,770],[771,771]]],[1519724222036,["wangnan@wangnandeMacBook-Pro.local",[[1,772,"```\ndocker run --detach \\\n    --hostname gitlab.anhao.cn \\\n    --publish 0.0.0.0:8000:80 \\\n    --publish 0.0.0.0:2200:22 \\\n    --name gitlab \\\n    --restart always \\\n    --volume /data/gitlab/config:/etc/gitlab \\\n    --volume /data/gitlab/logs:/var/log/gitlab \\\n    --volume /data/gitlab/data:/var/opt/gitlab \\\n    gitlab/gitlab-ce:latest\n```\n"]],[771,771],[1114,1114]]],[1519724226409,["wangnan@wangnandeMacBook-Pro.local",[[1,772,"\n"]],[771,771],[772,772]]],[1519724231930,["wangnan@wangnandeMacBook-Pro.local",[[1,772,"# 目前用的这个"]],[772,772],[780,780]]],[1519730224851,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,1124,"\n"]],[17,17],[1125,1125]]],[1519730224851,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,1124,"\n"]],[1125,1125],[17,17]]],[1519730223419,["wangnan@wangnandeMacBook-Pro.local",[[1,869,"00"]],[869,869],[871,871]]],[1519870933275,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,1126,"\n"]],[17,17],[1127,1127]]],[1519870933275,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,1126,"\n"]],[1127,1127],[17,17]]],[1519870929727,["wangnan@wangnandeMacBook-Pro.local",[[1,903,"00"]],[903,903],[905,905]]],[1519870994811,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,1128,"\n"]],[17,17],[1129,1129]]],[1519870994811,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,1128,"\n"]],[1129,1129],[17,17]]],[1519870949865,["wangnan@wangnandeMacBook-Pro.local",[[1,925,"-2200"]],[925,925],[930,930]]],[1519870951022,["wangnan@wangnandeMacBook-Pro.local",[[-1,926,"2200"]],[930,930],[926,926]]],[1519870952519,["wangnan@wangnandeMacBook-Pro.local",[[1,926,"880"]],[926,926],[929,929]]],[1519870954004,["wangnan@wangnandeMacBook-Pro.local",[[-1,927,"80"]],[929,929],[927,927]]],[1519870956525,["wangnan@wangnandeMacBook-Pro.local",[[1,927,"000-2200"]],[927,927],[935,935]]],[1519872298128,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,1138,"\n"]],[17,17],[1139,1139]]],[1519872298128,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,1138,"\n"]],[1139,1139],[17,17]]],[1519872278502,["wangnan@wangnandeMacBook-Pro.local",[[-1,903,"00"]],[905,905],[903,903]]],[1519872291115,["wangnan@wangnandeMacBook-Pro.local",[[1,873,"  // 此"]],[873,873],[879,879]]],[1519872293587,["wangnan@wangnandeMacBook-Pro.local",[[-1,878,"此"]],[879,879],[878,878]]],[1519872297438,["wangnan@wangnandeMacBook-Pro.local",[[1,878,"容器内部映射到"]],[878,878],[885,885]]],[1519872329461,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,1148,"\n"]],[17,17],[1149,1149]]],[1519872329461,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,1148,"\n"]],[1149,1149],[17,17]]],[1519872298640,["wangnan@wangnandeMacBook-Pro.local",[[1,885,"8000"]],[885,885],[889,889]]],[1519872301415,["wangnan@wangnandeMacBook-Pro.local",[[1,882,"也"]],[882,882],[883,883]]],[1519872318683,["wangnan@wangnandeMacBook-Pro.local",[[1,890,"，是为了发邮件的时候连接地址也带8000端口，同事需要"]],[890,890],[917,917]]],[1519872319520,["wangnan@wangnandeMacBook-Pro.local",[[-1,913,"同事需要"]],[917,917],[913,913]]],[1519872323295,["wangnan@wangnandeMacBook-Pro.local",[[1,913,"同时需要配置"]],[913,913],[919,919]]],[1519872327074,["wangnan@wangnandeMacBook-Pro.local",[[1,917,"修改"]],[917,917],[919,919]]],[1519872328521,["wangnan@wangnandeMacBook-Pro.local",[[1,921,"文件"]],[921,921],[923,923]]],[1519872333664,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,1186,"\n"]],[17,17],[1187,1187]]],[1519872333664,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,1186,"\n"]],[1187,1187],[17,17]]],[1519872332773,["wangnan@wangnandeMacBook-Pro.local",[[-1,973,"-8000-2200"]],[979,983],[973,973]]],[1519887881828,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,1176,"\n"]],[17,17],[1177,1177]]],[1519887881828,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,1176,"\n"]],[1177,1177],[17,17]]],[1519887880095,["wangnan@wangnandeMacBook-Pro.local",[[1,1177,"\n"]],[1175,1175],[1176,1176]]],[1519887880309,["wangnan@wangnandeMacBook-Pro.local",[[1,1176,"```\ndocker exec -it gitlab /bin/bash\n```"]],[1176,1176],[1216,1216]]],[1519888003127,[null,[[-1,17,"\n"],[1,18," "],[1,30,"\n"],[-1,55,"\n"],[1,1217,"\n"]],[17,17],[1218,1218]]],[1519888003127,[null,[[1,17,"\n"],[-1,17," "],[-1,30,"\n"],[1,56,"\n"],[-1,1217,"\n"]],[1218,1218],[17,17]]],[1519887952129,["wangnan@wangnandeMacBook-Pro.local",[[1,1218,"\n"]],[1216,1216],[1217,1217]]],[1519887952364,["wangnan@wangnandeMacBook-Pro.local",[[1,1217,"| `/srv/gitlab/data` | `/var/opt/gitlab` | For storing application data |\n| `/srv/gitlab/logs` | `/var/log/gitlab` | For storing logs |\n| `/srv/gitlab/config` | `/etc/gitlab` | For storing the GitLab configuration files |"]],[1217,1217],[1438,1438]]]]],["1e32819d-8b7f-462c-9c35-65402e085c31",1523241736821,"GitLab\n===\n\n## 0. 采用docker方式安装\n\n## 1. docker-compose.yml\n```\nweb:\n  image: 'gitlab/gitlab-ce:latest'\n  restart: always\n  hostname: 'gitlab.anhao.cn'\n  environment:\n#    GITLAB_TIMEZONE: PRC\n#    GITLAB_ROOT_PASSWORD: wangnan123\n#    SMTP_ENABLE: true\n#    GITLAB_EMAIL_FROM: jadesouth@aliyun.com\n#    GITLAB_EMAIL_DISPLAY_NAME: jadesouth\n#    GITLAB_EMAIL_REPLY_TO: jadesouth@aliyun.com\n    GITLAB_OMNIBUS_CONFIG: |\n      external_url 'http://gitlab.anhao.cn:8000'\n      gitlab_rails['gitlab_shell_ssh_port'] = 2200\n  ports:\n    - \"8000:80\"\n#    - \"4433:443\"\n    - \"2200:22\"\n  volumes:\n    - '/data/gitlab/config:/etc/gitlab'\n    - '/data/gitlab/log:/var/log/gitlab'\n    - '/data/gitlab/data:/var/opt/gitlab'\n```\n## 2. 启动\ncd docker-composer.yml所在目录\ndocker-compose up -d\n\n\n# 目前用的这个\n```\ndocker run --detach \\\n    --hostname gitlab.anhao.cn \\\n    --publish 0.0.0.0:8000:8000 \\  // 容器内部也映射到8000，是为了发邮件的时候连接地址也带8000端口，同时需要修改配置文件\n    --publish 0.0.0.0:2200:22 \\\n    --name gitlab \\\n    --restart always \\\n    --volume /data/gitlab/config:/etc/gitlab \\\n    --volume /data/gitlab/logs:/var/log/gitlab \\\n    --volume /data/gitlab/data:/var/opt/gitlab \\\n    gitlab/gitlab-ce:latest\n```\n```\ndocker exec -it gitlab /bin/bash\n```\n| `/srv/gitlab/data` | `/var/opt/gitlab` | For storing application data |\n| `/srv/gitlab/logs` | `/var/log/gitlab` | For storing logs |\n| `/srv/gitlab/config` | `/etc/gitlab` | For storing the GitLab configuration files |\n\n",[[1523241695792,["wangnan@wangnandeMacBook-Pro.local",[[1,1440,"\n"]],[1438,1438],[1439,1439]]],[1523241695892,["wangnan@wangnandeMacBook-Pro.local",[[1,1441,"\n"]],[1439,1439],[1440,1440]]],[1523241696908,["wangnan@wangnandeMacBook-Pro.local",[[1,1440,"gu"]],[1440,1440],[1442,1442]]],[1523241697411,["wangnan@wangnandeMacBook-Pro.local",[[-1,1440,"gu"]],[1442,1442],[1440,1440]]],[1523241699717,["wangnan@wangnandeMacBook-Pro.local",[[1,1440,"关闭后"]],[1440,1440],[1443,1443]]]]]]}